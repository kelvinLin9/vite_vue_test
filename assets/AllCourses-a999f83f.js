import{h as S,m as h,N as w,a as b,o as i,c as l,b as a,n as u,i as g,g as p,F as y,K as B,L as d,O as v,R as k,r as M,Q as z,d as I,M as D,e as $,p as U,j}from"./index-b03a48e4.js";import{d as f}from"./dataStore-0889da41.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import{g as A}from"./goStore-c2a827e4.js";const m=S("paginationStore",{state:()=>({eachPage:[],pageSize:12,page:{totalPage:0,currentPage:1,pageNumBox:[],hasPrevPage:!1,hasNextPage:!1}}),actions:{pagination(e=1,t){console.log(t.length),this.page.currentPage=e,this.page.totalPage=Math.ceil(t.length/this.pageSize),this.eachPage=[],this.page.currentPage<1&&(this.page.currentPage=1),this.page.currentPage>this.page.totalPage&&(this.page.currentPage=this.page.totalPage),this.page.hasPrevPage=this.page.currentPage>1,this.page.hasNextPage=this.page.currentPage<this.page.totalPage;const n=this.page.currentPage*this.pageSize-this.pageSize+1,c=this.page.currentPage*this.pageSize;t.forEach((_,P)=>{const o=P+1;o>=n&&o<=c&&this.eachPage.push(_)}),this.showPageBox()},showPageBox(){let t=this.page.currentPage-Math.floor(2.5),n=this.page.currentPage+Math.floor(5/2);t<1&&(t=1,n=5),n>this.page.totalPage&&(n=this.page.totalPage,t=this.page.totalPage-(5-1)),this.page.totalPage<5&&(t=1,n=this.page.totalPage),this.page.pageNumBox=[];for(let c=t;c<=n;c++)this.page.pageNumBox.push(c);console.log(this.page.pageNumBox)}}}),T=f();m();const N=S("filterStore",{state:()=>({selectCityName:"",selectCourseCategory:"",selectCourseName:""}),actions:{},getters:{filterData(){return T.coursesData.filter(e=>e.cityName.match(this.selectCityName)&&e.courseCategory.match(this.selectCourseCategory)&&e.courseName.match(this.selectCourseName))}}}),E={computed:{...h(f,["coursesData"]),...h(m,["page"]),...w(m,[]),...h(N,["filterData"])},methods:{...b(m,["pagination"])},created(){this.pagination(1,this.filterData)}},F={class:"container d-flex justify-content-center mt-4"},L={"aria-label":"Page navigation example"},x={class:"pagination"},H=["data-page"],K=a("i",{class:"bi bi-caret-left-fill"},null,-1),O=[K],Q=["data-page"],R={key:1,class:"page-item"},W=["data-page"],q=a("i",{class:"bi bi-caret-right-fill"},null,-1),G=[q];function J(e,t,n,c,_,P){return i(),l("div",F,[a("nav",L,[a("ul",x,[e.page.totalPage>0?(i(),l("li",{key:0,class:u(["page-item",{disabled:!e.page.hasPrevPage}])},[a("a",{class:"page-link",href:"#","data-page":e.page.currentPage-1,onClick:t[0]||(t[0]=g((...o)=>e.changePage&&e.changePage(...o),["prevent"]))},O,8,H)],2)):p("",!0),(i(!0),l(y,null,B(e.page.pageNumBox,(o,s)=>(i(),l("li",{class:u(["page-item d-flex",{active:o===e.page.currentPage}]),key:s},[a("a",{class:"page-link",href:"#","data-page":o,onClick:t[1]||(t[1]=g((...C)=>e.changePage&&e.changePage(...C),["prevent"]))},d(o),9,Q)],2))),128)),e.page.totalPage>5?(i(),l("li",R,[a("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=g((...o)=>e.lastPage&&e.lastPage(...o),["prevent"]))}," ......"+d(e.page.totalPage),1)])):p("",!0),e.page.totalPage>0?(i(),l("li",{key:2,class:u(["page-item",{disabled:!e.page.hasNextPage}])},[a("a",{class:"page-link",href:"#","data-page":e.page.currentPage+1,onClick:t[3]||(t[3]=g((...o)=>e.changePage&&e.changePage(...o),["prevent"]))},G,8,W)],2)):p("",!0),e.page.totalPage>5?(i(),l("li",{key:3,class:u(["page-item",{disabled:!e.page.hasNextPage}])},[v(a("input",{class:"form-control",type:"text",placeholder:"請輸入頁碼","aria-label":"default input example","onUpdate:modelValue":t[4]||(t[4]=o=>e.selPage=o)},null,512),[[k,e.selPage]])],2)):p("",!0),e.page.totalPage>5?(i(),l("button",{key:4,type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=g((...o)=>e.select&&e.select(...o),["prevent"]))}," 確認 ")):p("",!0)])])])}const X=V(E,[["render",J]]);const Y={components:{PaginationCom:X},computed:{...h(f,["coursesData","bookmarkState"]),...h(N,["filterData"]),...w(N,["selectCityName","selectCourseCategory","selectCourseName"])},methods:{...b(f,["getBookmarkCoursesData","toggleBookmark"]),...b(A,["goCoursePage"])},created(){this.getBookmarkCoursesData()}},r=e=>(U("data-v-cf1dd959"),e=e(),j(),e),Z=D('<div class="container-fluid banner" data-v-cf1dd959><div class="card" data-v-cf1dd959><img src="https://fakeimg.pl/180x20/" alt="" class="card-img" data-v-cf1dd959><div class="card-img-overlay d-flex justify-content-center align-items-center" data-v-cf1dd959><h2 class="border-top border-bottom border-primary" data-v-cf1dd959> 課程列表 </h2></div></div></div>',1),ee={class:"container mt-3"},ae={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 align-items-center g-2"},te={class:"col"},oe={class:"row g-1 align-items-center"},se=r(()=>a("div",{class:"col-auto"},[a("label",{for:"selectCourseCategory",class:"col-form-label"},"音樂技能：")],-1)),ie={class:"col-auto"},le={class:"col"},ne={class:"row g-1 align-items-center"},de=r(()=>a("div",{class:"col-auto"}," 上課地點： ",-1)),ce={class:"col-auto"},re=D('<option value="" selected data-v-cf1dd959>請選擇</option><option value="台北市" data-v-cf1dd959>台北市</option><option value="基隆市" data-v-cf1dd959>基隆市</option><option value="新北市" data-v-cf1dd959>新北市</option><option value="宜蘭縣" data-v-cf1dd959>宜蘭縣</option><option value="桃園市" data-v-cf1dd959>桃園市</option><option value="新竹市" data-v-cf1dd959>新竹市</option><option value="新竹縣" data-v-cf1dd959>新竹縣</option><option value="苗栗縣" data-v-cf1dd959>苗栗縣</option><option value="台中市" data-v-cf1dd959>台中市</option><option value="彰化縣" data-v-cf1dd959>彰化縣</option><option value="南投縣" data-v-cf1dd959>南投縣</option><option value="嘉義市" data-v-cf1dd959>嘉義市</option><option value="嘉義縣" data-v-cf1dd959>嘉義縣</option><option value="雲林縣" data-v-cf1dd959>雲林縣</option><option value="台南市" data-v-cf1dd959>台南市</option><option value="高雄市" data-v-cf1dd959>高雄市</option><option value="澎湖縣" data-v-cf1dd959>澎湖縣</option><option value="金門縣" data-v-cf1dd959>金門縣</option><option value="屏東縣" data-v-cf1dd959>屏東縣</option><option value="台東縣" data-v-cf1dd959>台東縣</option><option value="花蓮縣" data-v-cf1dd959>花蓮縣</option><option value="連江縣" data-v-cf1dd959>連江縣</option>',23),ge=[re],pe={class:"col"},ue={class:"row g-1 align-items-center"},he=r(()=>a("div",{class:"col-auto"},[a("label",{for:"selectCourseName",class:"col-form-label"},"課程名稱：")],-1)),ve={class:"col-auto"},me={class:"container mt-3"},fe={key:0,class:"row"},_e=r(()=>a("div",{class:"col text-center"}," 很抱歉，沒有符合條件課程 ",-1)),Pe=[_e],Ce={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-2"},be=["onClick"],ye={class:"card-img overflow-hidden position-relative"},ke=r(()=>a("img",{src:"https://fakeimg.pl/200x150/",alt:"",class:"card-img-top"},null,-1)),Ne=["onClick"],$e={class:"card-body"},Se={class:"mb-1"},we={class:"badge rounded-pill text-bg-danger test align-middle"},Be={class:""},De={class:"mb-1 text-primary"},Ve={class:"mb-1"},Me=r(()=>a("i",{class:"bi bi-clock-fill"},null,-1)),ze=r(()=>a("i",{class:"bi bi-geo-alt-fill"},null,-1)),Ie={class:"mb-1"};function Ue(e,t,n,c,_,P){const o=M("PaginationCom");return i(),l(y,null,[Z,a("div",ee,[a("div",ae,[a("div",te,[a("div",oe,[se,a("div",ie,[v(a("input",{type:"text",id:"selectCourseCategory",class:"form-control w-75","aria-labelledby":"selectCourseCategory","onUpdate:modelValue":t[0]||(t[0]=s=>e.selectCourseCategory=s)},null,512),[[k,e.selectCourseCategory]])])])]),a("div",le,[a("div",ne,[de,a("div",ce,[v(a("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[1]||(t[1]=s=>e.selectCityName=s)},ge,512),[[z,e.selectCityName]])])])]),a("div",pe,[a("div",ue,[he,a("div",ve,[v(a("input",{type:"search",id:"selectCourseName",class:"form-control w-75","aria-labelledby":"searchHelpInline",placeholder:"請輸入課程名稱","onUpdate:modelValue":t[2]||(t[2]=s=>e.selectCourseName=s)},null,512),[[k,e.selectCourseName]])])])])])]),a("div",me,[e.filterData.length==0?(i(),l("div",fe,Pe)):p("",!0),a("div",Ce,[(i(!0),l(y,null,B(e.filterData,s=>(i(),l("div",{class:"col",key:s.id},[a("div",{class:"card rounded-3 scale",onClick:C=>e.goCoursePage(s.id)},[a("div",ye,[ke,a("i",{class:u(["bookmark",e.bookmarkState(s.id)]),onClick:g(C=>e.toggleBookmark(s.id),["stop"]),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"加入 / 移除收藏"},null,10,Ne)]),a("div",$e,[a("div",Se,[a("span",we,d(s.courseCategory),1),a("span",Be," "+d(s.courseName),1)]),a("div",De," by "+d(s.teacherName),1),a("div",Ve,[Me,$(" "+d(s.time)+" ",1),ze,$(" "+d(s.cityName),1)]),a("div",Ie," NT$ "+d(s.price),1)])],8,be)]))),128))])]),I(o)],64)}const Fe=V(Y,[["render",Ue],["__scopeId","data-v-cf1dd959"]]);export{Fe as default};
